<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>Helios AI</title>
    <meta name="description" content="Verwalten und analysieren Sie Ihre Pionex Trading-Bot Gewinne mit detaillierten Statistiken und Berichten." />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <!-- PWA Manifest fÃ¼r iOS Native Push -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Helios AI" />
    <link rel="apple-touch-icon" href="/icon-192.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- Splash Screen -->
    <div id="splash" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;background:#fff;">
      <!-- CSS Animation Layer -->
      <div id="splash-css" style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#fff;">
        <img src="/splash-logo.png" alt="Helios AI" style="width:200px;height:200px;animation:splashPulse 2.5s ease-in-out;" />
      </div>
      <!-- Video Layer (hidden initially) -->
      <video id="splash-video" src="/splash-video.mp4" preload="auto" muted playsinline style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity 0.3s;"></video>
    </div>
    
    <style>
      @keyframes splashPulse {
        0% { opacity: 0; transform: scale(0.8); }
        20% { opacity: 1; transform: scale(1); }
        40% { transform: scale(1.05); }
        60% { transform: scale(1); }
        80% { transform: scale(1.05); }
        100% { transform: scale(1); opacity: 1; }
      }
    </style>
    
    <script>
      (function() {
        var splash = document.getElementById('splash');
        var splashCss = document.getElementById('splash-css');
        var video = document.getElementById('splash-video');
        var isDashboard = window.location.pathname === '/' || window.location.pathname === '';
        var videoReady = false;
        var minCssTime = 2500; // minimum 2.5s CSS animation
        var cssStartTime = Date.now();
        
        if (isDashboard) {
          // Dashboard: CSS + Video
          video.addEventListener('canplay', function() {
            videoReady = true;
            tryStartVideo();
          });
          
          // Try at 2.5s (after CSS animation)
          setTimeout(function() {
            tryStartVideo();
          }, minCssTime);
          
          // Fallback: try again at 5s if video still not ready
          setTimeout(function() {
            tryStartVideo();
          }, 5000);
          
          function tryStartVideo() {
            var elapsed = Date.now() - cssStartTime;
            if (elapsed >= minCssTime && (videoReady || elapsed >= 5000)) {
              splashCss.style.opacity = '0';
              splashCss.style.transition = 'opacity 0.3s';
              if (videoReady) {
                video.style.opacity = '1';
                video.play().catch(function() {
                  removeSplash();
                });
              } else {
                // Video not ready after 5s, just remove splash
                removeSplash();
              }
            }
          }
          
          video.addEventListener('ended', removeSplash);
          setTimeout(removeSplash, 10000);
        } else {
          // Other pages: CSS only (2.5 seconds)
          video.style.display = 'none';
          setTimeout(removeSplash, minCssTime);
        }
        
        function removeSplash() {
          if (splash && splash.parentNode) {
            splash.style.opacity = '0';
            splash.style.transition = 'opacity 0.5s';
            setTimeout(function() {
              splash.parentNode.removeChild(splash);
            }, 500);
          }
        }
      })();
    </script>
    
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
